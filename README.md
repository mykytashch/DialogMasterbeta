# Chat Observer 1.0

"Chat Observer 1.0" - это расширение для браузера Google Chrome, разработанное для генерации и отправки случайных чисел в чат, а также для сохранения и экспорта истории чата в виде текстового файла. 

### Описание работы скрипта 

1. Наш скрипт начинает работу после загрузки всего DOM. Обработчик события `DOMContentLoaded` добавляется, чтобы убедиться, что весь HTML был полностью загружен и проанализирован.

2. Далее, мы добавляем обработчики событий к кнопкам "sendRandomButton" и "exportBtn". Эти обработчики реагируют на клики, выполняя соответствующие функции.

3. Функция, связанная с "sendRandomButton", выполняет следующие действия:

    - Запрашивает текущую активную вкладку в браузере.
    
    - Генерирует случайное число, приводит его к строковому типу и дополняет нулями до 10 символов.
    
    - Сохраняет это число в хранилище с помощью функции `writeToConversationFile()`.
    
    - Затем на активной вкладке выполняет инъекцию кода, который вставляет сгенерированное число в поле ввода чата и имитирует нажатие клавиши "Enter", отправляя число в чат.

4. Функция, связанная с "exportBtn", выполняет следующие действия:

    - Запрашивает все сообщения из хранилища.
    
    - Если сообщения присутствуют, объединяет их в одну строку, разделяя каждое сообщение новой строкой.
    
    - Создает объект Blob из этой строки.
    
    - Создает URL для Blob и инициирует загрузку файла с сообщениями под именем "conversation.txt".

5. Когда страница загружается, история сообщений очищается, гарантируя, что каждый новый сеанс начинается с чистого листа.

6. `simulateEnterKey()` - это вспомогательная функция, которая имитирует нажатие клавиши "Enter" в поле ввода.

7. `writeToConversationFile()` - это функция, которая записывает сообщения в хранилище. Она запрашивает текущую историю сообщений, добавляет новое сообщение и сохраняет обновленную историю обратно в хранилище.

### Использованные технологии

- **JavaScript**: Основной язык программирования, используемый для создания функциональности расширения.

- **HTML**: Используется для создания пользовательского интерфейса расширения.

- **Chrome APIs**: Используются для работы с вкладками, хранилищем, загрузками и для внедрения скриптов в активную вкладку.

В результате этих действий мы создали функциональное и эффективное расширение для Google Chrome, которое может быть использовано для генерации и отправки случайных чисел в чат, а также для сохранения и экспорта истории чата.
